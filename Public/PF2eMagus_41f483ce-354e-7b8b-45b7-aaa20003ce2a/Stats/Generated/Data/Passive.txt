new entry "MAGUS"
type "PassiveData"

new entry "SpellstrikeToggle"
type "PassiveData"
data "DisplayName" "h3a4f0d5bg60c4g1fe9gcb57g286985856a8e;2"
data "Description" "h96eb8d1dgb9f7g92cag5182g75b50698778a;2"
data "Icon" "Spell_Evocation_FlameBlade"
data "EnabledConditions" "not HasStatus('Spellstrike_Discharged') and CanUseWeaponActions();"
data "EnabledContext" "OnStatusRemoved;OnStatusApplied;OnEquip;OnMovedDistance;OnStatusRemove"
data "Properties" "ToggledDefaultAddToHotbar;IsToggled;MetaMagic"
data "Boosts" "UnlockSpellVariant(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))),ModifyIconGlow(),ModifyUseCosts(Replace,ActionPoint,2,0,ActionPoint),ModifyTargetRadius(Override,1.5),ModifyNumberOfTargets(Override,1),ModifySpellRoll('Attack(AttackType.MeleeSpellAttack)','Attack(AttackType.MeleeWeaponAttack)'),ModifySpellRoll('Attack(AttackType.RangedSpellAttack)','Attack(AttackType.MeleeWeaponAttack)'),ModifyTooltipDescription());"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack));"
data "StatsFunctors" "IF(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack)))):ApplyStatus(SELF,Spellstrike_Discharged,100,-1);IF(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))) and not IsMiss()):DealDamage(max(1,MainMeleeWeapon), MainMeleeWeaponDamageType);IF(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))) and not IsMiss()):ExecuteWeaponFunctors(MainHand);IF(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack)))):ApplyStatus(SELF,MAP_PENALTY_3RD,100,1);"
data "ToggleOnFunctors" "ApplyStatus(SELF,Spellstriking,100,-1);"
data "ToggleOffFunctors" "RemoveStatus(Spellstriking)"
data "ToggleGroup" "Spellstrike"

new entry "RangedSpellstrikeToggle"
type "PassiveData"
using "SpellstrikeToggle"
data "DisplayName" "h92705afegec47ga60fgca8eg5747d089b0ff;1"
data "Icon" "Spell_Transmutation_LightningArrow"
data "Boosts" "UnlockSpellVariant(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))),ModifyIconGlow(),ModifyUseCosts(Replace,ActionPoint,2,0,ActionPoint),ModifyTargetRadius(Override,50),ModifyNumberOfTargets(Override,1),ModifySpellRoll('Attack(AttackType.MeleeSpellAttack)','Attack(AttackType.RangedWeaponAttack)'),ModifySpellRoll('Attack(AttackType.RangedSpellAttack)','Attack(AttackType.RangedWeaponAttack)'),ModifyTooltipDescription());"
data "StatsFunctors" "IF(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack)))):ApplyStatus(SELF,Spellstrike_Discharged,100,-1);IF(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))) and not IsMiss()):DealDamage(max(1,MainRangedWeapon), MainRangedWeaponDamageType);IF(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))) and not IsMiss()):ExecuteWeaponFunctors(MainHand);IF(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack)))):ApplyStatus(SELF,MAP_PENALTY_3RD,100,1);"
data "ToggleOnFunctors" "ApplyStatus(SELF,RangedSpellstriking,100,-1);"
data "ToggleOffFunctors" "RemoveStatus(RangedSpellstriking)"

new entry "SpellstrikeOld"
type "PassiveData"
data "DisplayName" "h9c600dd9g677bg6663gbc29gb01f9248683c;1"
data "Description" "h815f9196g6099g7724g4799gd767b31c9b87;1"
data "TooltipUseCosts" "ActionPoint:2"
data "Icon" "Spell_Evocation_FlameBlade"
data "Boosts" "UnlockSpell(Target_Spellstrike);"

new entry "ArcaneCascade"
type "PassiveData"
data "DisplayName" "hc297e550g3116gd3e5gb748g0ce086eabfae;1"
data "Description" "heee8a60cg9cedgb88ag9d1dg7eaffd82b7b1;1"
data "TooltipUseCosts" "ActionPoint:1"
data "Icon" "Action_BelmsBonusAttack"
data "Boosts" "UnlockSpell(Shout_ArcaneCascade);"

new entry "RangedSpellstrikeOld"
type "PassiveData"
data "DisplayName" "h170eaa52g962dgb5c8g256cg7aa619e6cbc2;1"
data "Description" "h4fbd99c9g2b42ge59dg8821gdbcd1ea764b2;1"
data "TooltipUseCosts" "ActionPoint:2"
data "Icon" "Spell_Transmutation_LightningArrow"
data "Boosts" "UnlockSpell(Projectile_RangedSpellstrike);"

new entry "ArcaneCascade_LaughingShadow"
type "PassiveData"
data "DisplayName" "h3bea4e74g8835gce5bgd0f8gf12b347f5ea6;1"
data "Description" "hc5cd1fa2g2898gb541gc6b0gf4ab57ffeded;1"
data "TooltipUseCosts" "ActionPoint:1"
data "Icon" "Action_BelmsBonusAttack"
data "Boosts" "UnlockSpell(Shout_ArcaneCascadeLS);"
data "DynamicAnimationTag" "8047cf29-2c79-4f12-a4bf-d965a023be63"

new entry "ArcaneCascade_InexorableIron"
type "PassiveData"
data "DisplayName" "ha81b8fe3g95afg3081gaed2gdeba33afbcb1;1"
data "Description" "h6397e118gcab9ga0aegd1b3g3c4f214f1473;1"
data "TooltipUseCosts" "ActionPoint:1"
data "Icon" "Action_BelmsBonusAttack"
data "Boosts" "UnlockSpell(Shout_ArcaneCascadeII);"
data "DynamicAnimationTag" "721dfac3-92d4-41f5-b773-b7072a86232f"

new entry "ArcaneCascade_SparklingTarge"
type "PassiveData"
data "DisplayName" "h3fb7f1b4g2c67g6e96g18e0g881a86e942ed;1"
data "Description" "h77294a83g2b48gf05ag170fg86f13de6d923;1"
data "TooltipUseCosts" "ActionPoint:1"
data "Icon" "Action_BelmsBonusAttack"
data "Boosts" "UnlockSpell(Shout_ArcaneCascadeST);"
data "DynamicAnimationTag" "ff4d9497-023c-434a-bd14-82fc367e991c"

new entry "ShootingStar"
type "PassiveData"
data "DisplayName" "h67433c95g7135g79a6g3dc6g6c366d82c4a1;1"
data "Description" "h03cf8001g0944ga6d7gb6b1ge62dd26a5ed4;1"
data "TooltipUseCosts" "ActionPoint:1;KiPoint:1"
data "Icon" "PassiveFeature_CurvingShot"
data "Boosts" "UnlockSpell(Projectile_ShootingStar);ActionResource(KiPoint,1,0);"

new entry "DimensionalAssault"
type "PassiveData"
data "DisplayName" "h80a69a33g4631ga76cg9c56g17a279d21d8a;1"
data "Description" "h360a8a8dga72ege29ag717fgebb9710ca357;1"
data "TooltipUseCosts" "ActionPoint:1;KiPoint:1"
data "Icon" "Spell_Transmutation_Blink_Teleport"
data "Boosts" "UnlockSpell(Target_DimensionalAssault);ActionResource(KiPoint,1,0);"

new entry "ShieldingStrike"
type "PassiveData"
data "DisplayName" "hcede8ca9ga7cbg69f0g356age140090a0f95;1"
data "Description" "hb704b987g3f5cg0b01g8b51g21e35d3071e3;1"
data "TooltipUseCosts" "ActionPoint:1;KiPoint:1"
data "Icon" "Spell_Conjuration_GuardianOfFaith"
data "Boosts" "UnlockSpell(Target_ShieldingStrike);UnlockSpell(Shout_Shield_Cantrip);ActionResource(KiPoint,1,0);"

new entry "ThunderousStrike"
type "PassiveData"
data "DisplayName" "h13c8c3f4g9dbag1558g7201g594fd0750853;1"
data "Description" "h5f8f903cgec3dg77acg339eg52881505a8b4;1"
data "TooltipUseCosts" "ActionPoint:1;KiPoint:1"
data "Icon" "Spell_Evocation_ThunderousSmite"
data "Boosts" "UnlockSpell(Zone_ThunderousStrike);ActionResource(KiPoint,1,0);"

new entry "SpellStrikeCleanup"
type "PassiveData"
data "DisplayName" "hf50e1f70g92c0g04e5g56b5g246ea2441665;1"
data "Description" "hff886811g11c2g6a29g611cg130ba39c959e;1"
data "Icon" "Spell_Evocation_FlameBlade"
data "Boosts" "UnlockInterrupt(Interrupt_MagusCleanup);"

new entry "SureStrike"
type "PassiveData"
data "DisplayName" "h2234e551gc983gd005ge840g8b85460e8b14;1"
data "Description" "h6584b056g51f6g598ag2467g2cd04c79b23b;1"
data "TooltipUseCosts" "ActionPoint:1"
data "Icon" "Spell_Divination_TrueStrike"
data "Boosts" "UnlockSpell(Target_SureStrike);"

new entry "RechargeSpellstrike"
type "PassiveData"
data "DisplayName" "h0ca2e9fcg79ebgda6ag30bbgce0965074c01;1"
data "Description" "h020760b5g6c6ag0719g1cfdg58efbd770175;1"
data "TooltipUseCosts" "ActionPoint:1"
data "Icon" "Skill_Sorcerer_CreateSorceryPoints_1"
data "Boosts" "UnlockSpell(Shout_RechargeSpellstrike);"

new entry "LEVEL2"
type "PassiveData"

new entry "ForceFang"
type "PassiveData"
data "DisplayName" "hb78825dfg6413g0870g4080gb4187e9787d0;1"
data "Description" "hc1f3bfddg4644g04cdg59d9g3778f8445159;1"
data "TooltipUseCosts" "ActionPoint:1;KiPoint:1"
data "Icon" "Spell_Evocation_MagicMissile"
data "Boosts" "IF(not HasPassive('RangedSpellstrike',context.Source)):UnlockSpell(Projectile_ForceFang);IF(HasPassive('RangedSpellstrike',context.Source)):UnlockSpell(Projectile_ForceFangStarlit);ActionResource(KiPoint,1,0);"

new entry "ExpansiveSpellstrike"
type "PassiveData"
data "DisplayName" "h066fb1bdg216fg2230g23c7g35a3fbd225ef;1"
data "Description" "h2c97c73eg86b5gbf40gf35egfb79a859e1c6;1"
data "TooltipUseCosts" "ActionPoint:2"
data "Icon" "Spell_Evocation_BoomingBlade"

new entry "AcolyteInitiate"
type "PassiveData"
data "DisplayName" "h262dc3e5geb4cg0068gc042g6e908aa43c74;1"
data "Description" "h0b29bc88gb4c1gf16dg9fcfg74b6835f7d37;2"
data "Icon" "Spell_Evocation_GuidingBolt"
data "Boosts" "UnlockSpell(Projectile_DivineLance);UnlockSpell(Target_Guidance);"

new entry "MartialInitiate"
type "PassiveData"
data "DisplayName" "h4898f09ag0528g6d2bg6e07g76bcae501a8c;1"
data "Description" "h3ab1cd44g9d16gb8cdg5ee4g4f06811520a1;1"
data "Icon" "PassiveFeature_HeavilyArmored"
data "Boosts" "Proficiency(HeavyArmor);"

new entry "MagusAnalysis"
type "PassiveData"
data "DisplayName" "h119ed82cgbdbeg9d6aga07fgf0b0c8ab1ac7;1"
data "Description" "hde91deb6g7ab7gfb2dg2b6cgadd3dbaa797d;1"
data "TooltipUseCosts" "ActionPoint:1"
data "Icon" "Spell_Divination_DetectThoughts"
data "Boosts" "UnlockSpell(Target_MagusAnalysis);"

new entry "LEVEL4"
type "PassiveData"

new entry "FireRay"
type "PassiveData"
data "DisplayName" "h90dd1caeg17afgd9cdg83b2g7236242c7d42;2"
data "Description" "ha40311a4gf0ecg0e83g4ee2g00dcd5a3fe62;1"
data "TooltipUseCosts" "ActionPoint:2;KiPoint:1"
data "Icon" "Action_Monster_Cambion_FireRay"
data "BoostConditions" "HasPassive('AcolyteInitiate',context.Source);"
data "Boosts" "UnlockSpell(Projectile_FireRayDomain);ActionResource(KiPoint,1,0);"

new entry "Moonbeam"
type "PassiveData"
data "DisplayName" "h3991d619g1564g96f1g168fg1da5fcdf3643;2"
data "Description" "h4b6816f6g0c26g109agaed0gf6244075c412;1"
data "TooltipUseCosts" "ActionPoint:2;KiPoint:1"
data "Icon" "Spell_Evocation_ScorchingRay"
data "BoostConditions" "HasPassive('AcolyteInitiate',context.Source);"
data "Boosts" "UnlockSpell(Projectile_MoonbeamPathfinder);ActionResource(KiPoint,1,0);"

new entry "StarlitEyes"
type "PassiveData"
using "BlindFight"
data "DisplayName" "h2fc1132cg75efg0c04gb279g8a69e8db77ea;1"

new entry "DistractingSpellstrike"
type "PassiveData"
data "DisplayName" "hd01e614bgcd62g4fffgabaagc61901df4993;1"
data "Description" "h76a44bf4gdeb2ga2a3g2746g28dd90ef5a77;1"
data "TooltipUseCosts" "ActionPoint:0"
data "Icon" "Action_PrecisionAttack"
data "Boosts" "UnlockSpell(Target_LaughingShadow_FreeFeint);"

new entry "Magus_BrutishShove"
type "PassiveData"
using "BrutishShove"
data "DisplayName" "h41a92c64g9d7bg2046g4b0cg7340a5c19161;1"
data "Description" "ha78a96a3g82eeg7fbdgdbf0g04d50ebddd41;1"
data "BoostConditions" "HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Target_BrutishShove);"

new entry "Magus_SnaggingStrike"
type "PassiveData"
using "SnaggingStrike"
data "DisplayName" "h6339fc56g228fgf462g2497g83db03f4e5e4;1"
data "Description" "ha2e3fb58ge20dgd518gd13ag4194585b92a2;1"
data "BoostConditions" "HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Target_SnaggingStrike);"

new entry "Magus_CombatGrab"
type "PassiveData"
using "CombatGrab"
data "DisplayName" "hdd49fd1dgede9ge785g13ebg7f08db373793;1"
data "Description" "hc4cfbe2fg79f7g62c4gf9eege82766934098;1"
data "BoostConditions" "HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Target_CombatGrab);"

new entry "Magus_SuddenCharge"
type "PassiveData"
using "SuddenCharge"
data "DisplayName" "h3a61b7bbgcdeegbaa9g5f92g5f67ad758b03;1"
data "Description" "ha099e429g80fcg4352gfb9eg7155a0312528;1"
data "BoostConditions" "HasDashStatus() and HasActionResource('Flourish', 1 , 0, false, false) and HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Target_SuddenCharge);"

new entry "Magus_PointBlank"
type "PassiveData"
using "PointBlankStance"
data "DisplayName" "h99fcf55bg3992gfb67g08b4g07d7f09d5172;1"
data "Description" "he62b5da7g2d72g8fddg0bfbg412b598d28fb;1"
data "BoostConditions" "HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Shout_PointBlankStance);"

new entry "LEVEL6"
type "PassiveData"

new entry "LEVEL8"
type "PassiveData"

new entry "Magus_DualHandedAssault"
type "PassiveData"
using "DualHandedAssault"
data "DisplayName" "h4859ccabg8c9dgfe20g53b7gd27c7b5d7f24;1"
data "Description" "h7720ce68g7d52gc502g7484ga0feb5950f40;1"
data "BoostConditions" "HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Target_DualHandedAssault);"

new entry "Magus_SlamDown"
type "PassiveData"
using "SlamDown"
data "DisplayName" "h8c2a8c8eg4cf4g1920g70bbge4894a7f3054;1"
data "Description" "heea9f20eg588dg6ee9g8678g2219627fc2dd;1"
data "BoostConditions" "HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Target_SlamDown);"

new entry "Magus_DoubleShot"
type "PassiveData"
using "DoubleShot"
data "DisplayName" "h022e51b2g9476g9629g7f35g8567a6be2055;1"
data "Description" "h0e60d6d2g7472g91f3gc97dg0a5333048480;1"
data "BoostConditions" "not HasPassive('TripleShot',context.Source) and HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Projectile_DoubleShot);IF(SpellId('Projectile_DoubleShot')):RollBonus(RangedWeaponAttack,-2);"

new entry "Magus_Swipe"
type "PassiveData"
using "Swipe"
data "DisplayName" "h60b75799gf3a3gcc85ga5abg6f1849e3f100;1"
data "Description" "h4dfad4a8g6fe1ga3e7gc6b6ge3cf91512a10;1"
data "BoostConditions" "HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Target_Swipe);"

new entry "SpellswipeToggle"
type "PassiveData"
using "SpellstrikeToggle"
data "DisplayName" "h1ef16429ge0d6ga5c4g3923g0c8be5c7a104;2"
data "Description" "hcf1f9aa0g70cag0d0bg5006g34b6110eb384;1"
data "Icon" "Action_Cleave_New"
data "Boosts" "UnlockSpellVariant(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))),ModifyIconGlow());UnlockSpellVariant(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))),ModifyUseCosts(Replace,ActionPoint,3,0,ActionPoint));UnlockSpellVariant(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))),ModifyTargetRadius(Override,2),ModifyNumberOfTargets(Override,2));UnlockSpellVariant(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))),ModifySpellRoll('Attack(AttackType.MeleeSpellAttack)','Attack(AttackTypeMeleeWeaponAttack)'));UnlockSpellVariant(IsSpell() and (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and HasSpellFlag(SpellFlags.Attack))),ModifySpellRoll('Attack(AttackType.RangedSpellAttack)','Attack(AttackType.MeleeWeaponAttack)'));UnlockSpellVariant(not (HasStringInSpellRoll('Attack') or (HasStringInSpellRoll('Check') and not HasSpellFlag(SpellFlags.Attack))),ModifyUseCosts(Replace,ActionPoint,6,0,ActionPoint));"

new entry "SpellswipeOld"
type "PassiveData"
data "DisplayName" "h427f8426g0bc3g3631gb1abg06ae1df51071;1"
data "Description" "h68394e77g49efg2173g4861gf0d0a8b3a8ef;1"
data "TooltipUseCosts" "ActionPoint:3"
data "Icon" "Action_Cleave_New"
data "Boosts" "UnlockSpell(Spellswipe);"

new entry "LEVEL10"
type "PassiveData"

new entry "DimensionalDisappearance"
type "PassiveData"
data "DisplayName" "h73f5523fg6ec2g1b87g6bb8g3bd5cee9ea43;1"
data "Description" "h5555f903gb353g5468g6189g427c1f1fcc01;1"
data "Icon" "Spell_Illusion_Invisibility"

new entry "RapidRecharge"
type "PassiveData"
using "RechargeSpellstrike"
data "DisplayName" "h0545ff19g52d7gb0a5g41e1g13e4663d1aae;1"
data "Description" "h89171a2cgbcffgfc06g0355g2b37ae5ff3ae;1"
data "TooltipUseCosts" "ActionPoint:0"
data "Boosts" "UnlockSpell(Shout_RapidRecharge);"

new entry "LEVEL12"
type "PassiveData"

new entry "Magus_TripleShot"
type "PassiveData"
using "TripleShot"
data "BoostConditions" "HasPassive('DoubleShot',context.Source) and HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Projectile_UpgradedDoubleShot);UnlockSpell(Projectile_TripleShot);IF(SpellId('Projectile_UpgradedDoubleShot')):RollBonus(RangedWeaponAttack,-2);IF(SpellId('Projectile_TripleShot')):RollBonus(RangedWeaponAttack,-4);"

new entry "Magus_DazingBlow"
type "PassiveData"
using "DazingBlow"
data "DisplayName" "h4eb898c1ga7dfgab94ga7b6gf03e67d9162e;1"
data "BoostConditions" "HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Target_DazingBlow);"

new entry "Magus_AdvantageousAssault"
type "PassiveData"
using "AdvantageousAssault"
data "DisplayName" "hd7d898bcgf50cg12cdgd50fgf4852f5779c6;1"
data "BoostConditions" "HasPassive('MartialInitiate',context.Source);"
data "Boosts" "UnlockSpell(Target_AdvantageousAssault);"

